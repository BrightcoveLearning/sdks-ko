
---
title: 'iOS용 네이티브 SDK를 사용하는 코드 조각'
description: 이 항목에서는 SDK를 사용하여 개발하는 동안 참조로 유용할 수 있는 코드 조각 모음을 찾을 수 있습니다. 자세한 솔루션은 다음을 참조하십시오. <a href="https://github.com/BrightcoveOS/ios-player-samples"> iOS 플레이어 샘플</a> .
parent: Resources 
grandparent: iOS Development 
---

<style>
  /* 코드 탭용 CSS */ /* 임시 코드 블록 - 테스트 후 삭제 */ .tabinator { background: #fff; padding: 20px; font-family: Open Sans; } .타비네이터 입력{ display: none; } .타비네이터 라벨{ box-sizing: border-box; display: inline-block; padding: 10px 25px; color: #999; margin-bottom: -1px; margin-left: -1px; } .tabinator 레이블:전{ content:''; display:block; width:100%; height:15px; background-color:#fff; position:absolute; bottom:-11px; left:0; z-index:10; } .tabinator 레이블:호버{ color: #666; cursor: pointer; } .tabinator 입력:체크 + 레이블{ position: relative; color: #000; background: #fff; border: 1px solid #bbb; border-bottom: 1px solid #fff; border-radius: 5px 5px 0 0; } .tabinator 입력:체크 + 레이블:후{ display: block; content: ''; position: absolute; top: 0; right: 0; bottom: 0; left: 0; box-shadow: 0 0 15px #939393; } .타비네이터 #content1, #content2, #content3, #content4 { display: none; border-top: 1px solid #bbb; padding: 20px; } #tab1:checked ~ #content1, #tab2:checked ~ #content2 { display: block; box-shadow: 0 0 15px #939393; } #tab3:확인 ~ #content3, #tab4:확인 ~ #content4 { display: block; box-shadow: 0 0 15px #939393; } /* 코드 탭의 CSS 종료 */
</style>

<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section" id="top">
<h3>목차</h3>
<!-- <h5 class="bcls-question">Accessibility</h5>

<ul class="bcls-answer">
	<li><a href="#VoiceOver_support">VoiceOver support</a></li>
</ul> -->
<details style="padding:0;">
    <summary>광고하는</summary>
   <ul>
      <li><a href="#Media_progress_values">미디어 진행 값</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>해석학</summary>
    <ul>
      <li><a href="#Google_Analytics">Google Analytics</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>캡션</summary>
    <ul>
      <li><a href="#Customizing_the_closed_captions_button">폐쇄 캡션 버튼 사용자 지정</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>콘텐츠 보안(DRM)</summary>
   <ul>
      <li><a href="#Displaying_FairPlay_content_on_an_external_screen">외부 화면에 FairPlay 콘텐츠 표시</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>큐 포인트</summary>
    <ul>
      <li><a href="#Programmatically_adding_cue_points">프로그래밍 방식으로 큐 포인트 추가</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>재생</summary>
    <ul>
      <li><a href="#Custom_controls_for_AirPlay">AirPlay 용 사용자 지정 컨트롤</a></li>
      <li><a href="#Limiting_the_bitrate">비트 레이트 제한</a></li>
      <li><a href="#Looping_a_video">비디오 루핑</a></li>
      <li><a href="#Media_progress_values">미디어 진행 값</a></li>
      <!-- <li><a href="#Setting_the_buffer_size">Setting the buffer size</a></li> -->
      <li><a href="#Paging_with_the_Playback_API">Playback API를 사용한 페이징</a></li>
      <li><a href="#Removing_the_player">플레이어 제거</a></li>
      <li><a href="#Setting_the_playback_rate">재생 속도 설정</a></li>
      <li><a href="#Setting_VR_Goggles_mode_for_360_videos">360° 비디오용 VR 고글 모드 설정</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>재생 목록</summary>
   <ul>
      <li><a href="#Managing_videos_in_a_playlist">재생 목록에서 비디오 관리</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>스타일링</summary>
    <ul>
      <li><a href="#Changing_the_background_color">배경색 변경</a></li>
    </ul>
</details>
<br/>
</section>

<section class="bcls-section">
<h2 id="Custom_controls_for_AirPlay">AirPlay 용 사용자 지정 컨트롤</h2>

<p>사용하는 경우<a href="/ios/reference/sdk/index.html#PlayerUI"> Brightcove PlayerUI 컨트롤</a> , 당신 준비 다 됐어요. AirPlay 기능은 즉시 작동하므로 사용자가 Apple TV를 통해 고화질 디스플레이로 비디오를 스트리밍 할 수 있습니다.</p>

<p>사용자 지정 컨트롤을 사용하는 경우 다음 단계를 수행 할 수 있습니다.</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>AirPlay에 대해 알아보기<a href=""> AirPlay에 대한 Apple의 개발자 문서</a> .</p>
	</li>
	<li>
	<p>재생 컨트롤러의<code translate="No">allowsExternalPlayback </code> AVPlayer의<code translate="No">allowsExternalPlayback </code>특성:</p>

	<pre>
<code class="language-swift" translate="No"><a href="/ios/reference/sdk/Protocols/BCOVPlaybackController.html#//api/name/allowsExternalPlayback">_playbackController.allowsExternalPlayback = YES;</a></code></pre>
	</li>
	<li>
	<p>AirPlay 라우터 컨트롤을 설정하고 선택을 처리합니다. 자세한 내용은<a href="https://developer.apple.com/library/content/documentation/AudioVideo/Conceptual/AirPlayGuide/Introduction/Introduction.html"> Apple의 AirPlay 개요</a>문서.</p>
	</li>
</ol>
</section>



<section class="bcls-section">
<h2 id="Customizing_the_closed_captions_button">폐쇄 캡션 버튼 사용자 지정</h2>

<p>그만큼<a href="/ios/reference/sdk/index.html#PlayerUI"> BCOVPlayerUI 샘플 코드</a> iOS 용 네이티브 SDK를 사용할 때 Brightcove 플레이어를 사용자 지정하는 방법을 보여줍니다. 자세한 내용은<a href="/ios/reference/sdk/index.html#PlayerUI"> PlayerUI 컨트롤 사용자 지정</a>네이티브 SDK 참조 문서의 섹션.</p>

<p>PlayerUI를 사용하여 폐쇄 캡션 버튼을 사용자 지정하려면 다음 단계를 따르십시오.</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>시작<a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Player/VideoCloudBasicPlayer">기본 비디오 재생 앱</a> .</p>
	</li>
	<li>
	<p>정책 키, 계정 ID 및 비디오 ID의 값을 바꿉니다. 계정에서 텍스트 트랙이있는 비디오를 선택하십시오.</p>
	</li>
	<li>
	<p>표준 VOD 레이아웃으로 플레이어보기 설정 :</p>
  <!-- tabs inline -->
  <div class = "tabinator">
    <input type = "radio" id = "tab1" name = "tabs" checked>
    <label for = "tab1">Obj-C</label>
    <input type = "radio" id = "tab2" name = "tabs">
    <label for = "tab2">빠른</label>
  <div id = "content1">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Set up our player view. Create with a standard VOD layout.
BCOVPUIPlayerView *playerView = [[BCOVPUIPlayerView alloc] initWithPlaybackController:self.playbackController options:nil controlsView:
[BCOVPUIBasicControlView basicControlViewWithVODLayout] ];</code></pre>
  </div>
  <div id = "content2">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Customize the CC button.
BCOVPUIButton *ccButton = playerView.controlsView.closedCaptionButton;
ccButton.titleLabel.font = [UIFont systemFontOfSize:14.];
ccButton.primaryTitle = @"CC";
[ccButton showPrimaryTitle:YES];</code></pre>
  </div>
</div>

<!-- tabs inline 2-->
  <div class = "tabinator">
    <input type = "radio" id = "tab3" name = "tabs" checked>
    <label for = "tab3">Obj-C</label>
    <input type = "radio" id = "tab4" name = "tabs">
    <label for = "tab4">빠른</label>
  <div id = "content3">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Set up our player view. Create with a standard VOD layout.
BCOVPUIPlayerView *playerView = [[BCOVPUIPlayerView alloc] initWithPlaybackController:self.playbackController options:nil controlsView:
[BCOVPUIBasicControlView basicControlViewWithVODLayout] ];</code></pre>
  </div>
  <div id = "content4">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Customize the CC button.
BCOVPUIButton *ccButton = playerView.controlsView.closedCaptionButton;
ccButton.titleLabel.font = [UIFont systemFontOfSize:14.];
ccButton.primaryTitle = @"CC";
[ccButton showPrimaryTitle:YES];</code></pre>
  </div>
</div>

	<!-- <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Set up our player view. Create with a standard VOD layout.
BCOVPUIPlayerView *playerView = [[BCOVPUIPlayerView alloc] initWithPlaybackController:self.playbackController options:nil controlsView:
[BCOVPUIBasicControlView basicControlViewWithVODLayout] ];</code></pre> -->
	</li>
	<li>
	<p>그만큼<code translate="No">closedCaptionButton</code>로 선언됩니다<code translate="No">BCOVPUIButton</code>의 하위 클래스 인<code translate="No">UIButton</code>사용자 정의를위한 세 가지 추가 방법을 추가합니다 BCOVPlayerUI 컨트롤을 사용자 정의 할 때마다 사용 가능한 모든 곳에서 Native Player API를 사용해야합니다. 사용자 정의 코드는 다음과 유사해야합니다.</p>
  <!-- tabs test 1 -->
  <!-- don't delete these breaks! -->
  <!-- <br />
&nbsp; -->
<div class="tabs">
<ul class="tab-links">
	<li class="active"><a href="#tab1">Obj-C</a></li>
	<li><a href="#tab2">빠른</a></li>
</ul>

<div class="tab-content">
  <div id="tab1" class="tab active">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Customize the CC button.
BCOVPUIButton *ccButton = playerView.controlsView.closedCaptionButton;
ccButton.titleLabel.font = [UIFont systemFontOfSize:14.];
ccButton.primaryTitle = @"CC";
[ccButton showPrimaryTitle:YES];</code></pre>
  </div>
  <div id="tab2" class="tab">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Customize the CC button.
BCOVPUIButton *ccButton = test content 2;
[ccButton showPrimaryTitle:YES];</code></pre>
  </div>
</div>
</div>
<!-- end tabs test 1 -->

	<!-- <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Customize the CC button.
BCOVPUIButton *ccButton = playerView.controlsView.closedCaptionButton;
ccButton.titleLabel.font = [UIFont systemFontOfSize:14.];
ccButton.primaryTitle = @"CC";
[ccButton showPrimaryTitle:YES];</code></pre> -->
	</li>
</ol>

<!-- tabs test 2-->
  <!-- don't delete these breaks! -->
  <!-- <br />
&nbsp; -->
<div class="tabs">
<ul class="tab-links">
	<li class="active"><a href="#tab5">Obj-C</a></li>
	<li><a href="#tab6">빠른</a></li>
</ul>

<div class="tab-content">
  <div id="tab5" class="tab active">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Customize the CC button.
BCOVPUIButton *ccButton = test content 3;
[ccButton showPrimaryTitle:YES];</code></pre>
  </div>
  <div id="tab6" class="tab">
    <pre class="line-numbers">
<code class="language-objectivec" translate="No">// Customize the CC button.
BCOVPUIButton *ccButton = test content 4;
[ccButton showPrimaryTitle:YES];</code></pre>
  </div>
</div>
</div>
</section>

<section class="bcls-section">
<h2 id="Displaying_FairPlay_content_on_an_external_screen">외부 화면에 FairPlay 콘텐츠 표시</h2>

<p>AV 어댑터와 HDMI 케이블을 사용하여 외부 디스플레이가 iOS 장치에 연결되어있는 경우 기본 동작은 iOS 화면을 미러링하는 것입니다. 단, FairPlay 보호 비디오를 사용하는 경우에는 Apple이 미러링 ( <a href="https://developer.apple.com/videos/play/wwdc2015/502/"> WWDC 2015, 세션 502</a> ).</p>

<p>FairPlay로 보호 된 비디오를 표시하려면 Brightcove 재생 컨트롤러를 통해 노출되는 AVPlayer 속성을 설정하여 FairPlay 비디오를 외부 디스플레이에서 재생할 수 있도록합니다. 비디오가 전체 화면 모드로 재생됩니다. 다음은 이러한 속성을 설정하는 예입니다.</p>

<pre>
<code class="language-swift" translate="No"><a href="/ios/reference/sdk/Protocols/BCOVPlaybackController.html#//api/name/usesExternalPlaybackWhileExternalScreenIsActive">playbackController.allowsExternalPlayback = YES;
playbackController.usesExternalPlaybackWhileExternalScreenIsActive = YES;</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Google_Analytics">Google Analytics</h2>

<p>Brightcove 플레이어와 카탈로그 클래스를 사용하는 경우 비디오 분석이 자동으로 수집되어 Video Cloud Analytics 모듈에 나타납니다. 추가 측정항목의 경우 앱에 Google 애널리틱스를 추가할 수 있습니다.</p>

<p>Google 애널리틱스를 앱과 통합하려면 다음 단계를 따르세요.</p>

<ol class="bcls-tasklist-restart">
	<li>Google 문서를 검토하여<a href="https://developers.google.com/analytics/devguides/collection/ios/v3/#get-config"> iOS 앱에 분석 추가</a> .</li>
	<li>
	<p>다음은 Google Analytics를 사용하여 Google의 Firebase SDK를 사용하여 동영상 재생을 추적 할 수있는 한 가지 방법입니다.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">// This snippet shows one way to track video playback
// using the Firebase SDK from Google Analytics with
// the lifecycle event playback controller delegate method.
- (void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller playbackSession:(id&lt;BCOVPlaybackSession&gt;)session didReceiveLifecycleEvent:(BCOVPlaybackSessionLifecycleEvent *)lifecycleEvent
{
// Common parameters
NSString *video_name = session.video.properties[kBCOVVideoPropertyKeyName];
NSString *video_ID = session.video.properties[kBCOVVideoPropertyKeyId];

// Session is ready to play
if ([kBCOVPlaybackSessionLifecycleEventReady isEqualToString:lifecycleEvent.eventType])
{
	[FIRAnalytics logEventWithName:@"bcov_video_ready"
    parameters:@{
        @"bcov_video_name": video_name,
        @"bcov_video_id": video_ID
    }];
}

// Session encountered an error
if ([kBCOVPlaybackSessionLifecycleEventError isEqualToString:lifecycleEvent.eventType])
{
	NSError *error = lifecycleEvent.properties[kBCOVPlaybackSessionEventKeyError];
	int error_code = error.code;
	[FIRAnalytics logEventWithName:@"bcov_video_playback_error"
    parameters:@{
        @"bcov_video_name": video_name,
        @"bcov_video_id": video_ID,
        @"bcov_video_error_code": @(error_code)
    }];
}

// Session has completed
if ([kBCOVPlaybackSessionLifecycleEventTerminate isEqualToString:lifecycleEvent.eventType])
{
	[FIRAnalytics logEventWithName:@"bcov_video_terminate"
    parameters:@{
        @"bcov_video_name": video_name,
        @"bcov_video_id": video_ID
     }];
}
}</code></pre>
	</li>
</ol>

<p>&nbsp;</p>
</section>

<section class="bcls-section">
<h2 id="Limiting_the_bitrate">비트 레이트 제한</h2>

<p>HLS 매니페스트에서 어떤 소스 (변환)가 선택되는지 제어 할 수 없습니다. <code translate="No">AVPlayer </code>하지만 재생시 비트 전송률 한도를 설정할 수 있습니다. 이렇게하면 플레이어가 지정된 비트 전송률을 초과하는 비트 전송률로 소스 (변환)를 사용할 수 없습니다.</p>

<p>설정<code translate="No">preferredPeakBitRate </code>주어진 네트워크 대역폭 소비의 원하는 제한 (초당 비트 수)으로<code translate="No">AVPlayerItem </code> .</p>

<p>다음 선언 중 하나를 사용하십시오.</p>

<pre class="line-numbers">
<code class="language-swift" translate="No">// Swift
var preferredPeakBitRate: Double
// Obj-C
@property(nonatomic) double preferredPeakBitRate</code></pre>
</section>

<section class="bcls-section">
<h2 id="Looping_a_video">비디오 루핑</h2>

<p>경우에 따라 비디오가 자동으로 재생되도록 할 수 있습니다. 이렇게하려면 "비디오 끝"수명주기 이벤트를 가져 와서 처음부터 찾아 다시 재생할 수 있습니다.</p>

<p>이 코드는 다음 메서드를 사용하여 playbackController의 델리게이트를 객체에 설정했다고 가정합니다.</p>

<pre class="line-numbers">
<code class="language-swift" translate="No">- (void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller playbackSession:(id&lt;BCOVPlaybackSession&gt;)session didReceiveLifecycleEvent:(BCOVPlaybackSessionLifecycleEvent *)lifecycleEvent
{
  if ([kBCOVPlaybackSessionLifecycleEventEnd isEqualToString:lifecycleEvent.eventType])
  {
    [controller seekToTime:kCMTimeZero completionHandler:^(BOOL finished) {
    if (finished)
    	{
        [controller play];
    	}
    }];
  }
}</code></pre>
</section>

<section class="bcls-section">
<h2 id="Managing_videos_in_a_playlist">재생 목록에서 비디오 관리</h2>

<p>비디오 재생 목록을 관리하는 한 가지 방법은 비디오 개체를 테이블에 저장하는 것입니다. 사용자가 테이블에서 비디오를 선택하면 테이블 행에 비디오 개체가 포함됩니다.</p>

<p>작동 방식에 대한 개요는 다음과 같습니다.</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>계정에서 재생 목록을 검색하십시오.</p>

	<pre class="line-numbers">
<code class="language-objectivec" translate="No">- (void)retrievePlaylist
{
[self.refreshControl beginRefreshing];

// Retrieve a playlist through the BCOVPlaybackService
BCOVPlaybackServiceRequestFactory *playbackServiceRequestFactory = [[BCOVPlaybackServiceRequestFactory alloc]         initWithAccountId:kDynamicDeliveryAccountID
		policyKey:kDynamicDeliveryPolicyKey];
BCOVPlaybackService *playbackService = [[BCOVPlaybackService alloc] initWithRequestFactory:playbackServiceRequestFactory];

[playbackService findPlaylistWithReferenceID:kDynamicDeliveryPlaylistRefID
		parameters:nil
		completion:^(BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error)
{
	 [self.refreshControl endRefreshing];

	 NSLog(@"JSON Response:\n%@", jsonResponse);

	 if (playlist)
	 {
      self.currentVideos = playlist.videos.mutableCopy;
      self.currentPlaylistTitle = playlist.properties[@"name"];
      self.currentPlaylistDescription = playlist.properties[@"description"];

      NSLog(@"Retrieved playlist containing %d videos", (int)self.currentVideos.count);

      [self usePlaylist:self.currentVideos];
	 }
	 else
	 {
      NSLog(@"No playlist for ID %@ was found.", kDynamicDeliveryPlaylistRefID);
	 }

}];
}</code></pre>
	</li>
	<li>
	<p>현재 재생 목록의 비디오와 관련된 정보를 저장하는 컨테이너를 다시 초기화합니다.</p>
	</li>
	<li>
	<p>테이블보기를 선택하면 행의 인덱스가 새 항목을 만드는 데 사용됩니다. <code translate="No">videoDictionary</code> . 다음으로 사전에 비디오를 요청하십시오. 동영상이 null이 아닌 경우 동영상을<code translate="No">playbackController</code> .</p>

	<pre class="line-numbers">
<code class="language-objectivec" translate="No">// Play the video in this row when selected
- (IBAction)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(nonnull NSIndexPath *)indexPath
{
NSDictionary *videoDictionary = self.videosTableViewData[ (int)indexPath.row ];
BCOVVideo *video = videoDictionary[@"video"];

  if (video != nil)
  {
  	[self.playbackController setVideos:@[ video ]];
  }
}</code></pre>
	</li>
</ol>

<p>재생 목록으로 작업하려면 테이블과 같은 다른 개체에 재생 목록을 저장할 수 있습니다. 사용자 상호 작용을 기반으로 개체의 인덱스를 탐색하고 적절한 비디오를 선택할 수 있습니다.</p>

<aside class="bcls-aside bcls-aside--tip">전체 코드 예제는 다음을 참조하십시오. <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Offline">오프라인 플레이어</a>견본.</aside>
</section>

<section class="bcls-section">
<h2 id="Media_progress_values">미디어 진행 값</h2>

<p>미디어 재생 중에 Player SDK 진행 델리게이트 메서드에보고되는 값에는 초기 값인 음의 무한대와 최종 값의 양의 무한대가 포함될 수 있습니다. 이 값은 프리 롤 및 포스트 롤 광고를 처리 할 때 사용됩니다.</p>

<p>이러한 값이 중요하지 않거나 진행 상황 추적을 방해하는 경우 다음과 같은 조건문을 사용하여 쉽게 무시할 수 있습니다.</p>

<pre class="line-numbers">
<code class="language-swift" translate="No"><a href="/ios/reference/sdk/Protocols/BCOVPlaybackControllerBasicDelegate.html#//api/name/playbackController:playbackSession:didProgressTo:">- (void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller playbackSession:(id&lt;BCOVPlaybackSession&gt;)session didProgressTo:(NSTimeInterval)progress
{
if (progress &lt; 0.0 || progress &gt;= INFINITY)
return;
// Your code here
}</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Paging_with_the_Playback_API">Playback API를 사용한 페이징</h2>

<p>Playback API에서 Video Cloud 콘텐츠를 검색할 때 재생 목록에 대한 페이징을 구현할 수 있습니다.</p>

<p>재생 목록의 동영상 집합을 페이지로 이동하려면 다음 요청 URL 매개변수를 사용하십시오.</p>

<ul>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">limit</a> </code> - Playback API에서 반환할 동영상 수를 정의합니다.</li>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">offset</a> </code> - Playback API에서 재생 목록에서 건너뛸 동영상 수를 설정합니다.</li>
</ul>

<p>이 예에서는 재생 목록의 10번째 동영상으로 시작하는 6개의 동영상을 반환합니다.</p>

<pre class="line-numbers">
<code class="language-objectivec" translate="No">NSDictionary *params =
@{
@"limit": @6,
@"offset": @9
};
[playbackService findPlaylistWithReferenceID:playlistRefID
parameters:params
completion:^(BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error)
{ ...</code></pre>
</section>

<section class="bcls-section">
<h2 id="Programmatically_adding_cue_points">프로그래밍 방식으로 큐 포인트 추가</h2>

<p>Video Cloud 고객은 Video Cloud Studio를 사용하여 비디오에 큐 포인트를 추가 할 수 있습니다. <a href="https://studio.support.brightcove.com/media/working-cue-points-media-module.html">비디오에 큐 포인트 추가</a>문서.</p>

<p>프로그래밍 방식으로 비디오에 큐 포인트를 추가 할 수도 있습니다. 아래 코드는 Playback API에서 반환 된 동영상에 분기 별 간격 큐 포인트를 추가합니다.</p>

<pre class="line-numbers">
<code class="language-swift" translate="No"><a href="/ios/reference/sdk/Protocols/BCOVVideo.html">// programmatically add cue points to a video
- (void)requestContentFromPlaybackService
{
[self.service findVideoWithVideoID:kViewControllerVideoID parameters:nil completion:^(BCOVVideo *video, NSDictionary *jsonResponse, NSError *error) {
if (video)
{
<span class="bcls-highlight">// Get the video duration from the properties dictionary
NSNumber *durationNumber = video.properties[@"duration"]; // milliseconds
float duration = durationNumber.floatValue / 1000.0; // convert to seconds
video = [video update:^(id&lt;BCOVMutableVideo&gt; mutableVideo)
{
// Add quarterly interval cue points of your own type
BCOVCuePoint *cp1 = [[BCOVCuePoint alloc] initWithType:@"<span class="bcls-input">your cue point type</span>" position:CMTimeMake(duration * 250, 1000)];
BCOVCuePoint *cp2 = [[BCOVCuePoint alloc] initWithType:@"<span class="bcls-input">your cue point type</span>" position:CMTimeMake(duration * 500, 1000)];
BCOVCuePoint *cp3 = [[BCOVCuePoint alloc] initWithType:@"<span class="bcls-input">your cue point type</span>" position:CMTimeMake(duration * 750, 1000)];
BCOVCuePoint *cp4 = [[BCOVCuePoint alloc] initWithType:@"<span class="bcls-input">your cue point type</span>" position:CMTimeMake(duration * 1000, 1000)];
// Create new cue point collection using existing cue points and new cue points
NSMutableArray *newCuePoints = [[NSMutableArray alloc] initWithArray:mutableVideo.cuePoints.array];
[newCuePoints addObject:cp1];
[newCuePoints addObject:cp2];
[newCuePoints addObject:cp3];
[newCuePoints addObject:cp4];
mutableVideo.cuePoints = [[BCOVCuePointCollection alloc] initWithArray:newCuePoints];
}];</span>
[self.playbackController setVideos:@[ video ]];
}
else
{
NSLog(@"ViewController Debug - Error retrieving video: `%@`", error);
}
}];
}</a></code></pre>

<p>값은<code translate="No">your cue point type </code>사용하지 않는 한 원하는 문자열 값이 될 수 있습니다. <a href="/ios/basics/overview-brightcove-player-sdk-ios.html#Integrations"> iOS 플러그인</a> . 자세한 내용은<a href="/ios/reference/sdk/Protocols/BCOVCuePoint.html#//api/name/type"> BCOVCuePoint 프로토콜 참조</a>문서.</p>

<p>IMA 플러그인과 함께 큐 포인트를 사용하는 경우<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima#vast-and-vmapserver-side-ad-rules"> VAST 및 VMAP / 서버 측 광고 규칙</a> iOS 용 네이티브 SDK 용 IMA 플러그인 섹션 참고. 그만큼<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima/blob/06bb6f8dff6075340737017a966ad19b20bf6adb/ios/BrightcoveIMA.framework/Headers/BCOVIMAComponent.h#L39-L42"> IMA 샘플 앱</a> IMA 광고 큐 포인트에 필요한 값을 보여줍니다.</p>

<p>아래 코드는 큐 포인트를 수신하고 메시지를 표시합니다.</p>

<pre class="line-numbers">
<code class="language-swift" translate="No"><a href="/ios/reference/sdk/Protocols/BCOVCuePoint.html">// listen for cue points and display them
-(void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller playbackSession:(id&lt;BCOVPlaybackSession&gt;)session didPassCuePoints:(NSDictionary *)cuePointInfo {
BCOVCuePointCollection *cpc = cuePointInfo[@"kBCOVPlaybackSessionEventKeyCuePoints"];
for (BCOVCuePoint *cp in cpc) {
  if ([cp.type isEqualToString:@"<span class="bcls-input">your cue point type</span>"])
    {
    NSLog(@"Found your cue point at %f", CMTimeGetSeconds(cp.position));
    }
  }
}</a></code></pre>
</section>
<!-- <section class="bcls-section" id="Setting_the_buffer_size">
		<h2>Setting the buffer size</h2>
		<p>You may consider increasing the buffer length to eliminate buffering in the player if the delivery of the next segment is delayed from the CDN. But, you may not be able to do anything better manually that HLS already does.</p>
		<p>The <code translate="No">AVPlayer</code> contains the <code translate="No">AVPlayerItem</code>, essentially the video being played, that contains the <code translate="No">loadedTimeRanges</code> property. This tells you how much is buffered.</p>
		<p>HLS is designed to play right away and drop quality if it can't keep up. This way, it does not need to preload a buffer. If it can't keep up, it will load as much of the video as it can at the best quality to prevent interruption.</p>
		</section> -->

<section class="bcls-section">
<h2 id="Removing_the_player">플레이어 제거</h2>

<p>플레이어와 뷰를 제거하려는 경우가있을 수 있습니다.</p>
<p>
  소유권이있는 뷰 컨트롤러 할당 해제<code translate="No">BCOVPlaybackController</code>재생 컨트롤러도 할당 해제합니다. 이렇게하려면 수퍼 뷰에서 플레이어 뷰를 제거하고 재생 컨트롤러 포인터를<code translate="No">nil</code> .
</p>
<p>
  다음은 코드 예입니다.
</p>

<pre>
<code class="language-objectivec" translate="No">playerView?.removeFromSuperview()
playerView = nil
playbackController = nil</code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_playback_rate">재생 속도 설정</h2>

<p>재생 속도를 제어하려면<code translate="No">rate </code>재산에<code translate="No">AVPlayer </code>세션에 노출 된 클래스.</p>

<p>기본적으로 재생 속도는 일정한 간격 (0.50, 0.67, 1.0, 1.25, 1.50 및 2.0)으로 만 설정할 수 있습니다. 설정함으로써<a href="https://developer.apple.com/documentation/avfoundation/avaudiotimepitchalgorithm"> audioTimePitchAlgorithm</a> ,보다 세분화 된 비율 값 (예 : 1.7)을 사용할 수 있습니다. 자세한 내용은 여기를 참조하십시오. <a href="https://stackoverflow.com/questions/6630356/avplayer-rate-property-does-not-work"> stackoverflow 토론</a> .</p>

<pre>
<code class="language-objectivec" translate="No">avPlayerItem.audioTimePitchAlgorithm = AVAudioTimePitchAlgorithmVarispeed;</code></pre>

<aside class="bcls-aside bcls-aside--information">
  <p>
    이 샘플에서는<code translate="No">varispeed</code>속성 유형, <a href="https://developer.apple.com/documentation/avfoundation/avaudiotimepitchalgorithm"> AVAudioTimePitchAlgorithm</a>클래스에는 사용할 수있는 4 가지 속성 유형이 있습니다.
  </p>
  <ul>
    <li>
      <a href="https://developer.apple.com/documentation/avfoundation/avaudiotimepitchalgorithm/1621212-lowqualityzerolatency">lowQualityZeroLatency</a>
    </li>
    <li>
      <a href="https://developer.apple.com/documentation/avfoundation/avaudiotimepitchalgorithm/1388153-spectral">유령 같은</a>
    </li>
    <li>
      <a href="https://developer.apple.com/documentation/avfoundation/avaudiotimepitchalgorithm/1387220-timedomain">timeDomain</a>
    </li>
    <li>
      <a href="https://developer.apple.com/documentation/avfoundation/avaudiotimepitchalgorithm/1387887-varispeed">변속</a>
    </li>
  </ul>
  <p>
    주목하십시오<code translate="No">varispeed</code>옵션은 피치 보정을 제공하지 않습니다. 이로 인해 1.7과 같은 높은 재생 속도로 오디오가 부 자연스럽게 고음이 될 수 있습니다. 귀하의 필요에 가장 적합한 속성 옵션을 선택하십시오.
  </p>
</aside>

<p>에 대한<code translate="No">BCOVPlaybackSession </code> , 코드는 다음과 유사합니다.</p>

<pre class="line-numbers">
<code class="language-objectivec" translate="No">- (void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller
  playbackSession:(id&lt;BCOVPlaybackSession&gt;)session didReceiveLifecycleEvent:(BCOVPlaybackSessionLifecycleEvent *)lifecycleEvent {

  if ( [lifecycleEvent.eventType isEqualToString:kBCOVPlaybackSessionLifecycleEventReady] ) {
    NSLog(@"%@ at time %f", kBCOVPlaybackSessionLifecycleEventReady, CMTimeGetSeconds([session.player currentTime]));
    AVPlayerItem * avPlayerItem = [session.player currentItem];
    avPlayerItem.audioTimePitchAlgorithm = AVAudioTimePitchAlgorithmVarispeed;
    session.player.rate = 1.7;
  }
}</code></pre>

<aside class="bcls-aside bcls-aside--information"> The Native SDK for iOS does not support negative values for the playback rate (ie. we do not support playing videos in reverse).
<!-- <p>Notes</p>
<ul>
  <li>For iOS6, a stream can only play at 2X if <code translate="No">session.player.currentItem.canPlayFastForward </code> returns <strong>YES</strong>.</li>
	<li>For iOS7, you can play up to 2X always, but it won't go higher unless <code translate="No">session.player.currentItem.canPlayFastForward </code> returns <strong>Yes</strong>.</li>
	<li>For more information about managing playback, see Apple's <a href="https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVPlayer_Class/index.html#//apple_ref/occ/instp/AVPlayer/rate">AVPlayer Class Reference</a>.</li>
</ul> -->
</aside>
</section>

<section class="bcls-section">
<h2 id="Setting_VR_Goggles_mode_for_360_videos">360° 비디오용 VR 고글 모드 설정</h2>

<p>360° 비디오를 재생할 때 사용자는 컨트롤 막대에서 비디오 360 버튼을 선택하여 VR 고글 모드로 전환할 수 있습니다. 재생이 시작되기 전에 프로그래밍 방식으로이 작업을 수행 할 수도 있습니다. 업데이트하여이를 수행 할 수 있습니다. <code translate="No">BCOVPlaybackController </code>프로토콜<code translate="No">viewProjection </code>다음과 같이 속성 :</p>

<pre class="line-numbers">
<code class="language-objectivec" translate="No"><a href="/ios/reference/sdk/Protocols/BCOVPlaybackController.html">- (void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller didAdvanceToPlaybackSession:(id&lt;BCOVPlaybackSession&gt;)session
{
BCOVVideo360ViewProjection *viewProjection = [self.playbackController.viewProjection copy];
[viewProjection setProjectionStyle:BCOVVideo360ProjectionStyleVRGoggles];
[self.playbackController setViewProjection:viewProjection];
}</a></code></pre>

<aside class="bcls-aside bcls-aside--information">컨트롤러의 투영 스타일을 설정해야 합니다. <code translate="No">didAdvanceToPlaybackSession </code>델리게이트 메소드</aside>
</section>
<!-- <section class="bcls-section">
<h2 id="VoiceOver_support">VoiceOver support</h2>

<p>Apple's <a href="https://www.apple.com/accessibility/iphone/vision/">VoiceOver app</a>, which is integrated in iOS, allows visually impaired users to hear a description of everything that is on the screen.</p>

<p>The built-in playback controls for Brightcove Native SDK for iOS come with accessibility labels which have no default text values. If you want to take advantage of VoiceOver, you can add your own custom text values. The UIControl objects can be found in the following:</p>

<ul>
	<li>All the normal playback controls are found in the <a href="/ios/reference/sdk/Classes/BCOVPUIPlayerView.html#//api/name/controlsView">BCOVPUIBasicControlView *controlsView</a> property of the <a href="/ios/reference/sdk/Classes/BCOVPUIPlayerView.html">BCOVPUIPlayerView</a>.</li>
	<li>All of the ad controls are found in the <a href="/ios/reference/sdk/Classes/BCOVPUIPlayerView.html#//api/name/adControlsView">BCOVPUIAdControlView *adControlsView</a> property of the <a href="/ios/reference/sdk/Classes/BCOVPUIPlayerView.html">BCOVPUIPlayerView</a>.</li>
</ul>

<p>This example shows how to customize the accessibility values for the play button:</p>

<pre class="line-numbers">
<code class="language-objectivec" translate="No"><a href="/ios/reference/sdk/Classes/BCOVPUIPlayerView.html#//api/name/controlsView">// After creating the BCOVPUIPlayerView, store it in a playerView property
// Then set the accessibilityLabel and accessibilityHint properties
self.playerView.controlsView.playbackButton.accessibilityLabel = @"Playback Button";
self.playerView.controlsView.playbackButton.accessibilityHint = @"Play or pause the video";</a>
</code></pre>

<aside class="bcls-aside bcls-aside--information">If you are using your own playback controls, then you have to add VoiceOver support yourself.</aside>
</section> -->

<section class="bcls-section">
<h2 id="Changing_the_background_color">배경색 변경</h2>

<p>세로 모드로 동영상을 재생할 때 플레이어의 위아래에 검은 색 테두리가 보일 수 있습니다. 플레이어보기는 화면의 크기이지만 동영상은 플레이어보기 중앙의 작은 부분 만 차지합니다. 비디오 주변에 보이는 부분은 플레이어 레이어의 배경입니다.</p>

<p>이것은 정상입니다<code translate="No">AVPlayer </code>행동. 플레이어 레이어에 맞게 비디오를 축소하고 나머지는 플레이어 레이어 배경입니다.</p>

<p>다음 코드를 사용하여 플레이어 레이어 배경을 변경할 수 있습니다.</p>

<pre class="line-numbers">
<code class="language-objectivec" translate="No">(void)playbackController:(id&lt;BCOVPlaybackController&gt;)controller didAdvanceToPlaybackSession:(id&lt;BCOVPlaybackSession&gt;)session
{
session.playerLayer.backgroundColor = UIColor.whiteColor.CGColor;
}</code></pre>

<p>배경색을 흰색으로 설정하면 다음과 같습니다.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Background color" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/ios/snippets/ios-bkgd-color.png" />
<figcaption class="bcls-caption--image">사용자 정의 배경색</figcaption>
</figure>
</section>
</article>