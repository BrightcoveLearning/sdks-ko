
---
title: 'Android용 네이티브 SDK용 Cast 플러그인'
description: 이 주제에서는 Android용 Brightcove Native SDK용 Cast 플러그인을 사용하여 Chromecast 연결 TV로 비디오를 전송하는 방법을 배웁니다.
parent: Connected TV 
grandparent: Android Development
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">개요</h2>

<p>와 함께<a href="https://developers.google.com/cast/docs/developers">구글캐스트</a>기술을 통해 모바일 장치에서 고화질 TV 및 홈 오디오 시스템으로 스트리밍된 비디오 콘텐츠를 시작하고 제어할 수 있습니다. 앱에서 전송 버튼을 탭하여 큰 화면에서 콘텐츠를 스트리밍하세요.</p>

<p>Cast 애플리케이션을 빌드하려면 다음 구성요소가 필요합니다.</p>

<ul>
	<li>
	<p>NS <strong>발신자 신청서</strong> - 이것은 모바일 장치에 상주하며 수신기 장치를 감지하고 보안 연결을 설정하고 콘텐츠를 미러링합니다. 발신자 앱은 콘텐츠를 Chromecast 기기의 수신자 앱으로 전송하는 데 사용되는 로컬 플레이어입니다. 리시버 앱으로 전송한 후에는 Chromecast용 리모컨으로 생각할 수 있습니다.</p>

	<p>발신자 앱은 Android용 Brightcove Native SDK용 Cast 플러그인에서 제공합니다. 이 주제에서 이에 대해 배우게 됩니다.</p>
	</li>
	<li>
	<p>NS <strong>수신기 응용 프로그램</strong> - 이 애플리케이션은 Chromecast 기기에서 실행됩니다. CSS 및 JavaScript 자산이 포함된 단일 페이지 HTML 앱으로 생각할 수 있습니다.</p>

	<p>테스트를 위해 다음 단계를 따르세요.</p>

	<ol class="bcls-tasklist">
		<li>시작<a href="https://github.com/googlecast/CastReceiver"> Google의 샘플 캐스트 수신기</a></li>
		<li>검토<a href="https://developers.google.com/cast/docs/sample-apps#castreceiver"> Google 캐스트 앱</a>선적 서류 비치</li>
	</ol>

	<p>프로덕션 사용을 위해 이 문서에서는 Brightcove Receiver v2.0.0을 사용하는 방법을 설명합니다.</p>
	</li>
</ul>

<aside class="bcls-aside bcls-aside--information">
  <p>노트:</p>
  <ol>
    <li>Google은 프로덕션 환경에서 데모 수신기 앱 사용을 지원하지 않습니다.</li>
    <li>Android용 Brightcove Native SDK용 Cast 플러그인은 수신기 앱 기능을 제공하지 않습니다.</li>
  </ol>
  </aside>
</section>

<section class="bcls-section">
<h2 id="Supported_SDK_version">지원되는 SDK 버전</h2>
<p>새로운 Brightcove Receiver v2.0에서 Cast 플러그인을 사용하려면 Android 버전 6.16.0 이상용 Brightcove Native SDK를 사용해야 합니다.</p>
</section>

<section class="bcls-section">
<h2 id="Understanding_the_Cast_plugin">Cast 플러그인 이해하기</h2>
<p>Cast 플러그인은<a href="https://medium.com/google-exoplayer/new-cast-extension-and-demo-app-55816a50012">새로운 ExoPlayer 캐스트 확장</a>및 Google Play 서비스 캐스트 프레임워크. 캐스트 플러그인 종속성을 추가한 후 gradle은 다른 필요한 종속성과 함께 Play Services Cast Framework 종속성, ExoPlayer Cast Extension 종속성을 가져옵니다.</p>

<p>Cast 플러그인은 Video Cloud와 통합할 때 노력을 최소화하도록 재설계되었습니다. Video Cloud를 사용할 때, <code translate="No">BrightcoveCastMediaManager</code>클래스는 Brightcove와 같은 Video Cloud 응답에서 정보를 수집합니다. <code translate="No">Video</code>그리고<code translate="No">Source</code>개체, 매번<code translate="No">EventType.SET_SOURCE</code>이벤트가 발생합니다. 이 정보는 캐시되어 사용자가 재생을 선택하여 비디오를 대기열에 넣을 때 사용할 수 있습니다.</p>
</section>

<section class="bcls-section">
<h2 id="Integrating_the_Cast_plugin">Cast 플러그인 통합</h2>
<p>앱을 Android Cast 플러그인용 네이티브 SDK와 통합하는 방법에는 두 가지가 있습니다. Brightcove Cast Receiver v2.0 또는 Google Cast Demo Receiver와 통합할 수 있습니다.</p>
<p>두 통합의 경우 앱 프로젝트에 이 종속성을 추가해야 합니다.</p>
<pre>
<code class="language-java" translate="No">implementation &quot;com.brightcove.player:android-cast-plugin:6.16.0&quot;</code></pre>

<h3 id="Using_the_Brightcove_Cast_Receiver_v2">Brightcove Cast 수신기 v2.0 사용</h3>
<p>이 통합은 Brightcove API를 사용하여 콘텐츠를 제공하는 Brightcove 고객을 위한 것입니다.</p>
<p>전체 코드 샘플은 다음을 참조하세요. <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicCastBrightcoveReceiverSampleApp"> BasicCastBrightcoveReceiverSampleApp</a> .</p>

<h3 id="Using_the_Google_Cast_Demo_Receiver">Google Cast 데모 수신기 사용</h3>
<p>이 통합은 캐스팅이 처음인 Brightcove 고객을 위한 것입니다.</p>
<p>전체 코드 샘플은 다음을 참조하세요. <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicCastGoogleReceiverSampleApp"> BasicCastGoogleReceiverSampleApp</a> .</p>
<aside class="bcls-aside bcls-aside--tip">NS <strong> BasicCastGoogleReceiverSampleApp</strong>샘플 앱은 이전에<strong> BasicCastSampleApp</strong></aside>

<h4 id="Specifying_your_own_Cast_Receiver_App_Id">자신의 Cast 수신기 앱 ID 지정</h4>
<p>NS <strong> BasicCastGoogleReceiverSampleApp</strong>시작 및 테스트에 도움이 될 수 있지만 프로덕션에는 도움이 되지 않는 Google 데모 수신기 앱 ID를 설정합니다.</p>
<p>Cast Receiver 애플리케이션으로 이 값을 재정의하려면 샘플 앱의 다음 문자열 값을 정의하십시오. <strong>문자열.xml</strong>파일:</p>
<pre>
<code class="language-java" translate="No">&lt;string name=&quot;cast_receiver_app_id&quot;&gt;4F8B3483&lt;/string&gt;</code></pre>
</section>

<section class="bcls-section">
<h2 id="The_Brightcove_GoogleCastComponent">브라이트코브 GoogleCastComponent</h2>

<p>NS <code translate="No">GoogleCastComponent</code> class는 Brightcove Cast 플러그인의 기본 클래스입니다. ExoPlayer CastPlayer를 인스턴스화하고 리스너를 설정합니다. 비디오를 로드하거나 대기열에 추가하기 위한 몇 가지 필수 메소드를 제공합니다. NS <code translate="No">GoogleCastComponent</code>이 클래스는 또한 활동 및 조각 수명 주기 이벤트를 처리하기 위해 여러 Brightcove 이벤트 리스너를 추가하고, Chromecast 장치에 비디오를 로드하기 위해 미디어 정보를 내보내는 데 사용할 수 있는 기타 이벤트 리스너를 추가합니다.</p>

<p>NS <code translate="No">GoogleCastComponent</code>이제 빌더 패턴을 사용합니다. v6.16.0 이전 버전의 Android용 네이티브 SDK에서는 구성 요소를 인스턴스화하고 전달해야 했습니다. <code translate="No">Context</code>그리고<code translate="No">EventEmitter</code> ~로<code translate="No">GoogleCastComponent</code>건설자. 그런 다음 일련의 개별 메서드 호출에서 구성 요소의 옵션을 설정합니다.</p>
<p>Android v6.16.0용 Native SDK부터 Builder 패턴을 사용하여<code translate="No">GoogleCastComponent</code> Builder 메서드 호출의 단일 체인 내에서 모두 옵션을 설정합니다.</p>
</section>

<section class="bcls-section">
<h2 id="CustomData">커스텀 데이터</h2>
<p>와 마찬가지로<code translate="No">GoogleCastComponent</code> , NS <code translate="No">CustomData</code>클래스는 빌더 패턴을 사용하여 개체를 인스턴스화하고 속성을 추가합니다. Brightcove 수신기가 사용할 수 있는 동안<code translate="No">CustomData</code> Brightcove 카탈로그에서 비디오를 검색하기 위해 완전한<code translate="No">CustomData</code>원격 자산 캐스팅과 같은 개체. 또한 Google Demo Receiver를 사용할 때<code translate="No">CustomData</code>지원되지 않습니다. 이 논의의 목적을 위해, 우리는 다음에 초점을 맞출 것입니다. <code translate="No">CustomData</code> Brightcove 카탈로그에서 비디오 데이터를 검색하는 데 사용되는 수신기로 전송됩니다.</p>

<h3>커스텀데이터란?</h3>
<p><code translate="No">CustomData</code>에 포함된 JSON 객체입니다. <code translate="No">MediaInfo</code>물체. 의도된 용도는 Brightcove Cast Receiver 앱 v2.0입니다.</p>

<h3>Brightcove 수신기 및 카탈로그 데이터가 있는 CustomData</h3>
<p>Brightcove Receiver와 통합할 때<code translate="No">CustomData</code> JSON 객체는 다음과 같은 형식을 취합니다.</p>
<pre>
<code class="language-java" translate="No">&quot;customData&quot;: {
	&quot;accountId&quot;: &quot;1234567890&quot;,
	&quot;analyticsParams&quot;: {
		&quot;application&quot;: &quot;com.brightcove.player.test&quot;,
		&quot;user&quot;: &quot;abcde1c44b951234&quot;
	},
	&quot;catalogParams&quot;: {
		&quot;adConfigId&quot;: null,
		&quot;type&quot;: &quot;video&quot;,
		&quot;bcovAuthToken&quot;: null,
		&quot;id&quot;: &quot;2345678901&quot;,
		&quot;policyKey&quot;: &quot;BCpkPolicyKeyObject&quot;
	}
}
</code></pre>

<p>NS <code translate="No">CustomData</code>위의 개체 예제에는 Brightcove 수신기에서 비디오를 전송하는 데 필요한 모든 데이터 요소가 포함되어 있습니다. 이 데이터는 암호화 여부에 관계없이 동일합니다. 즉, DRM 동영상의 경우 라이선스 URL에 대한 추가 구조가 필요하지 않습니다.</p>
<p>의 예도 찾을 수 있습니다. <code translate="No">CustomData</code>에 있는 개체<strong> BrightcoveCastBrightcoveReceiverSampleApp</strong> .</p>

<h3>Google 데모 수신기를 사용한 CustomData</h3>
<p>상술 한 바와 같이, <code translate="No">CustomData</code> Google 데모 수신기에서는 지원되지 않습니다.</p>

</section>

<section class="bcls-section">
<h2 id="BrightcoveCastMediaManager">BrightcoveCastMediaManager</h2>

<p>연장이 가능합니다<code translate="No">BrightcoveCastMediaManager</code> , 위에 표시된 대로 메서드를 재정의하거나 자신의 메서드를 구현합니다. BrightcoveCastMediaManager 클래스를 확장하는 예는 다음을 참조하십시오.</p>
<ul>
  <li>BrightcoveCastMediaManager 섹션 확장</li>
  <li>BasicCastCustomRemoteVideoSampleApp</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="OptionsProvider">옵션 제공자</h2>

<p>다음으로 지정해야 합니다. <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/OptionsProvider">옵션 제공자</a> Google Cast 프레임워크 구현. NS <code translate="No">OptionsProvider</code>인터페이스는 초기화에 필요한 여러 옵션을 설정하는 데 도움이 됩니다. <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastContext">캐스트 컨텍스트</a>수업. 여기에서 Cast Receiver 앱 ID를 설정합니다. 통합에 대해 자세히 알아보려면<code translate="No">OptionsProvider</code> , Google의<a href="https://developers.google.com/cast/docs/android_sender_integrate#initialize_the_cast_context">캐스트 컨텍스트 초기화</a>문서.</p>
<p>Brightcove Cast 플러그인에는<code translate="No">DefaultOptionsProvider</code>여기서 Cast Receiver 앱 ID는 에 설정된 문자열 키를 통해 설정됩니다. <strong>문자열.xml</strong>리소스 파일. 자세한 내용과 앱에서 재정의하는 방법을 알아보려면<a href="#Using_your_own_Cast_Receiver_App_Id">고유한 Cast 수신기 앱 ID 사용</a>위 섹션.</p>
<p>사용 여부<code translate="No">DefaultOptionsProvider</code>수업 또는 자신의<code translate="No">OptionsProvider</code>구현, 당신은 설정해야<code translate="No">OptionsProvider</code>앱의 구현 클래스 이름<strong> AndroidManifest.xml</strong>다음과 같이 파일을 키-값 쌍 메타데이터로 사용합니다.</p>
<pre>
<code class="language-java" translate="No">&lt;meta-data android:name=&quot;com.google.android.gms.cast.framework.OPTIONS_PROVIDER_CLASS_NAME&quot; android:value=&quot;com.brightcove.cast.DefaultOptionsProvider&quot; /&gt;</code></pre>
<p>사용하는 경우<code translate="No">DefaultOptionsProvider</code>클래스, 당신은 설정할 수 있습니다<code translate="No">ExpandedControllerActivity</code>유사한 메타데이터 정보를 설정하여 전송 알림을 켜거나 끕니다. <strong>안드로이드 매니페스트</strong> .</p>
</section>

<section class="bcls-section">
<h2 id="Expanded_Controller_Activity">확장된 컨트롤러 활동</h2>

<p>NS <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/media/widget/ExpandedControllerActivity">확장 컨트롤러 활동</a> Google Cast 라이브러리와 함께 제공되며 Chromecast 기기에서 전송 중인 동영상을 제어할 수 있습니다. 이 클래스는 사용자 정의 유연성을 제공합니다. 예를 들어 버튼을 표시하는 데 사용할 수 있는 슬롯이 5개 있으며, 여기서 세 번째 슬롯은 구성할 수 없는 재생 버튼용으로 예약되어 있습니다. 나머지 버튼은 미리 정의된 다른 버튼이나 사용자 정의 버튼으로 설정할 수 있습니다.</p>

<p>Brightcove Cast 플러그인은 하위 클래스를 제공합니다. <code translate="No">DefaultExpandedControllerActivity</code> . 다음 버튼을 다음 순서로 활성화했습니다.</p>

<ul>
	<li><strong>자막</strong></li>
	<li><strong>이전 건너뛰기</strong></li>
	<li><strong>놀다</strong></li>
	<li><strong>다음 건너뛰기</strong></li>
	<li><strong>음소거 토글</strong></li>
</ul>

<p>또한 Seek Bar는 표준에서 사용된 것과 동일한 기본 드로어블을 설정합니다. <code translate="No">BrightcoveMediaController</code> :</p>

<ul>
	<li>진행 드로어블:
	<pre>
<code class="language-java" translate="No">R.drawable.default_scrubber_progress_horizontal</code></pre>
	</li>
	<li>엄지 드로어블:
	<pre>
<code class="language-java" translate="No">R.drawable.default_scrubber_thumb</code></pre>
	</li>
</ul>

<p>탐색 표시줄을 사용자화하는 방법을 배우려면 다음을 참조하십시오. <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/SeekBarColorsSampleApp/src/main"> SeekBarColorsSampleApp</a> .</p>

<p>설정하려면<code translate="No">DefaultExpandedControllerActivity</code>또는 자신의<code translate="No">ExpandedControllerActivity</code> , 다음 메타데이터를<strong> AndroidManifest.xml</strong>파일:</p>
<pre class="line-numbers">
<code class="language-java" translate="No">&lt;meta-data  android:name="com.brightcove.cast.DefaultOptionsProvider.EXPANDED_CONTROLLER_ACTIVITY_CLASS_NAME"
android:value="com.brightcove.cast.DefaultExpandedControllerActivity" /&gt;</code></pre>
</section>

<section class="bcls-section">
<h2 id="Cast_Notification">캐스트 알림</h2>

<p>전송 알림이 활성화된 경우 비디오를 전송하고 앱을 백그라운드에 넣을 때 알림이 표시됩니다. 예를 들어 홈 키를 누른 후.</p>
&lt;p캐스트 알림을 활성화하려면 다음 메타데이터를 설정하세요. <strong> AndroidManifest.xml</strong>파일을 만들고 알림을 클릭할 때 시작할 활동의 이름을 제공합니다.</p>
<pre class="line-numbers">
<code class="language-java" translate="No">&lt;meta-data android:name="com.brightcove.cast.DefaultOptionsProvider.NOTIFICATION_TARGET_ACTIVITY_CLASS_NAME"
android:value="com.brightcove.cast.BrightcoveControllerActivity" /&gt;</code></pre>

<p>com.brightcove.cast.DefaultOptionsProvider.NOTIFICATION_TARGET_ACTIVITY_CLASS_NAME을 제공하지 않거나 값에 잘못된 활동 이름이 있는 경우 전송 알림이 꺼집니다.</p>

<aside class="bcls-aside bcls-aside--information">제거하면서<code translate="No">meta-data</code>태그<strong> AndroidManifest.xml</strong>파일이 발신자 앱의 알림을 비활성화하더라도 기기가 Wi-Fi 네트워크에서 전송 중임을 나타내는 알림을 발신자 기기에서 계속 볼 수 있습니다. 이것은 발신자 앱의 알림이 아니라 앱 구성과 관계없이 발신자 장치의 알림입니다.</aside>
</section>

<section class="bcls-section">
<h2 id="The_Cast_Button">전송 버튼</h2>

<p>전송 버튼을 사용하면 기기와 동일한 네트워크에 있는 Chromecast 기기를 선택할 수 있으며 연결하고 세션을 만들 수 있습니다. 애플리케이션에 전송 버튼을 추가하려면 Google의<a href="https://developers.google.com/cast/docs/android_sender_integrate#add_a_cast_button">캐스트 통합: 전송 버튼 추가</a>문서.</p>
<p>Brightcove Cast 플러그인은 Cast 버튼을 쉽게 설정할 수 있는 유틸리티 방법을 제공합니다. Activity/Fragment 메뉴에 Cast 버튼을 추가하려는 경우에 유용합니다. 자세한 내용은 다음 코드를 참조하세요.</p>
	<pre class="line-numbers">
<code class="language-java" translate="No">//Activity
@Override
public boolean onCreateOptionsMenu(Menu menu) {
   super.onCreateOptionsMenu(menu);
   GoogleCastComponent.setUpMediaRouteButton(MainActivity.this, menu);
   return true;
}</code></pre>
</section>

<section class="bcls-section">
<h2 id="The_Mini_Controller">미니 컨트롤러</h2>

<p>미니 컨트롤러는 일반적으로 레이아웃의 맨 아래에 있는 활동에 연결되는 프래그먼트입니다. 미니 컨트롤러를 사용하면 동영상을 재생 및 일시중지할 수 있으며 Chromecast 기기에서 동영상이 재생 중일 때 표시됩니다. 미니 컨트롤러를 클릭하면 확장 컨트롤러가 실행됩니다.</p>
<p>미니 컨트롤러를 활성화하려면 활동 레이아웃에 다음 코드를 추가하세요.</p>
	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;fragment
   android:id="@+id/castMiniController"
   android:layout_width="match_parent"
   android:layout_height="wrap_content"
   android:layout_alignParentBottom="true"
   android:visibility="gone"
   class="com.google.android.gms.cast.framework.media.widget.MiniControllerFragment" /&gt;</code></pre>

<p>미니 컨트롤러의 모범 사례를 알아보려면 다음을 참조하십시오. <a href="https://developers.google.com/cast/docs/design_checklist/sender#sender-mini-controller">디자인 체크리스트: 발신자 미니 컨트롤러</a>문서. 구현에 대한 자세한 내용은 다음을 참조하십시오. <a href="https://developers.google.com/cast/docs/android_sender_integrate#add_mini_controller">캐스트 통합: 미니 컨트롤러 추가</a>문서.</p>
</section>

<section class="bcls-section">
<h2 id="Advanced_Topics">고급 주제</h2>

<h3 id="Listening_for_Cast_session">Cast 세션 듣기</h3>

<p>Cast 연결이 시작되거나 종료될 때 앱이 반응하도록 하려면 다음을 추가할 수 있습니다. <code translate="No">GoogleCastEventType.CAST_SESSION_STARTED</code>또는<code translate="No">GoogleCastEventType.CAST_SESSION_ENDED</code>여기에 표시된 이벤트 리스너:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(GoogleCastEventType.CAST_SESSION_STARTED, new EventListener() {
   @Override
   public void processEvent(Event event) {
       // Session Started
   }
});
eventEmitter.on(GoogleCastEventType.CAST_SESSION_ENDED, new EventListener() {
   @Override
   public void processEvent(Event event) {
       // Session Ended
   }
});</code></pre>

<p>또는 다음으로 전화할 수 있습니다. <code translate="No">GoogleCastComponent.isSessionAvailable()</code>사용 가능한 세션을 확인합니다.</p>

<h3 id="Casting_a_Video">비디오 전송</h3>

<p>연결에 성공한 후 비디오를 Chromecast로 전송하려면 EventEmitter를 사용하고 미디어 정보 정보를 내보내거나 직접 사용할 수 있습니다. <code translate="No">GoogleCastComponent</code>행동 양식.</p>

<p>미디어 정보를 내보내려면 다음 이벤트를 사용할 수 있습니다.</p>

<ul>
	<li><code translate="No">GoogleCastEventType.LOAD_MEDIA_INFO</code></li>
	<li><code translate="No">GoogleCastEventType.LOAD_MEDIA_QUEUE_ITEM</code></li>
	<li><code translate="No">GoogleCastEventType.ADD_MEDIA_INFO</code></li>
	<li><code translate="No">GoogleCastEventType.ADD_MEDIA_QUEUE_ITEM</code></li>
</ul>

<p>다음 표에서는 각 이벤트에 대해 예상되는 속성을 보여줍니다.</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th rowspan="2">이벤트 이름</th>
			<th colspan="2">속성</th>
		</tr>
		<tr>
			<th>열쇠</th>
			<th>값 클래스 유형</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">LOAD_MEDIA_INFO</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_INFO</code><br />
			<code translate="No">GoogleCastComponent.CAST_MEDIA_PLAY_POSITION</code></td>
			<td><code translate="No">MediaInfo</code>정수</td>
		</tr>
		<tr>
			<td><code translate="No">LOAD_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">MediaQueueItem</code></td>
		</tr>
		<tr>
			<td><code translate="No">ADD_MEDIA_INFO</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_INFO</code><br />
			<code translate="No">GoogleCastComponent.CAST_MEDIA_PLAY_POSITION</code></td>
			<td><code translate="No">MediaInfo</code>정수</td>
		</tr>
		<tr>
			<td><code translate="No">ADD_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">MediaQueueItem</code></td>
		</tr>
	</tbody>
</table>
<br/>
<p>또는 다음을 사용할 수 있습니다. <code translate="No">GoogleCastComponent</code>행동 양식:</p>

<ul>
	<li>
	<pre>
<code class="language-java" translate="No">public void loadMediaInfo(MediaInfo mediaInfo, long positionMs)</code></pre>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">public void loadMediaInfo(MediaInfo mediaInfo)</code></pre>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">public PendingResult&lt;RemoteMediaClient.MediaChannelResult&gt; loadItem(MediaQueueItem mediaQueue, int playheadPosition)</code></pre>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">public PendingResult&lt;RemoteMediaClient.MediaChannelResult&gt; addItems(MediaQueueItem... mediaQueue )</code></pre>
	</li>
</ul>

<h3 id="Changing_the_default_MediaInfo_data">기본 MediaInfo 데이터 변경</h3>

<p>기본적으로 Cast 플러그인은<code translate="No">EventType.SET_SOURCE event</code> . 사용자 정의 JSON 객체를 추가하는 것과 같은 추가 정보를 변경하거나 추가하려는 경우<code translate="No">MediaInfo</code>앱 수신자가 이해하는 경우 덮어쓰기하여 수행할 수 있습니다. <code translate="No">loadMediaInfo()</code>그리고<code translate="No">addMediaInfo()</code>방법<code translate="No">BrightcoveCastMediaManager</code> . 그러면 당신의<code translate="No">BrightcoveCastMediaManager</code>하위 클래스는 생성자 매개변수로 전달됩니다. <code translate="No">GoogleCastComponent</code>수업.</p>

<p>이러한 메서드 내에서 다음을 만들 수 있습니다. <code translate="No">MediaInfo</code>개체를 만들고 이전에 표시된 대로 적절한 이벤트를 내보냅니다. 반드시 확인하세요<code translate="No">com.brightcove.cast.util.CastMediaUtil</code> , 생성하는 몇 가지 유틸리티 메서드를 제공하므로<code translate="No">MediaInfo</code>비디오 및 소스 개체에서.</p>

<h3 id="Configuring_the_Cast_MediaController">캐스트 MediaController 구성</h3>

<p>Cast 세션이 시작될 때 Brightcove Video View에 나타나는 컨트롤러 레이아웃을 변경하려면 다음 단계를 따르십시오.</p>

<ol class="bcls-tasklist-restart">
	<li><a href="#Extend_the_BrightcoveCastMediaManager">BrightcoveCastMediaManager 확장</a></li>
	<li><a href="#Set_the_MediaControllerConfig">MediaControllerConfig 설정</a></li>
	<li><a href="#Overwrite_the_control_bar_setup">컨트롤 바 설정 덮어쓰기</a></li>
</ol>

<h4 id="Extend_the_BrightcoveCastMediaManager">BrightcoveCastMediaManager 확장</h4>

<p>기본 동작을 변경하려면<code translate="No">BrightcoveCastMediaManager</code> , 하위 클래스를 만들고 몇 가지 주요 메서드를 덮어씁니다.</p>

<ul>
	<li>
	<pre>
<code class="language-java" translate="No">public void updateBrightcoveMediaController(boolean isRemote)</code></pre>

	<p>이 메서드는<code translate="No">GoogleCastComponent</code>세션이 변경될 때; 즉, 세션이 시작되거나 종료될 때입니다. 세션이 시작되면<code translate="No">isRemote</code>매개변수는<code translate="No">true</code>그리고<code translate="No">setupRemoteController</code>메소드가 호출됩니다. 그렇지 않으면<code translate="No">isRemote</code>될거야<code translate="No">false</code>그리고<code translate="No">resetToLocalController</code>라고 합니다.</p>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">protected void setupRemoteController()</code></pre>

	<p>이 메서드는 이벤트를 발생시킵니다. <code translate="No">EventType.SET_MEDIA_CONTROLLER_CONFIG</code>이랑<code translate="No">MediaControllerConfig</code>물체. 우리는에 대해 더 이야기 할 것입니다<code translate="No">MediaControllerConfig</code>이 섹션의 뒷부분에서. 이 방법은 또한<code translate="No">BrightcoveMediaController.CONTROL_BAR_CREATED</code>이벤트를 호출하여 반응하고<code translate="No">setupBrightcoveControlBar</code>방법.</p>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">protected void resetToLocalController()</code></pre>

	<p>이 방법은 재설정을 담당합니다. <code translate="No">BrightcoveMediaController</code>를 방출하여 원래 컨트롤러 레이아웃으로<code translate="No">EventType.RESTORE_DEFAULT_MEDIA_CONTROLLER</code> .</p>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">protected void setupBrightcoveControlBar(BrightcoveControlBar controlBar)</code></pre>

	<p>일단<code translate="No">BrightcoveMediaController</code>에 제공된 레이아웃으로 재창조되었습니다. <code translate="No">MediaControllerConfig</code>에 액세스할 수 있습니다. <code translate="No">BrightcoveControlBar</code>보다. 여기에서 추가할 수 있는 버튼과 같은 UI 보기에 액세스할 수 있습니다. <code translate="No">OnClickListener</code>그들에게.</p>
	</li>
</ul>

<h4 id="Set_the_MediaControllerConfig">MediaControllerConfig 설정</h4>

<p>NS <code translate="No">MediaControllerConfig</code>는 기본 컨트롤 레이아웃을 변경하는 데 사용할 수 있는 구성 클래스입니다. <code translate="No">BrightcoveMediaController</code>수업. 이 클래스에서는 레이아웃과<code translate="No">OnTouchListener</code> . 생성 및 구성이 완료되면 아래와 같이 이 객체를 내보낼 수 있습니다.</p>

<pre class="line-numbers">
<code class="language-java" translate="No">Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
properties.put(Event.MEDIA_CONTROLLER_CONFIG, myMediaControllerConfig);
eventEmitter.emit(EventType.SET_MEDIA_CONTROLLER_CONFIG,properties);</code></pre>

<p>기본값<code translate="No">MediaControllerConfig</code>객체는 다음을 설정합니다<code translate="No">R.layout.cast_media_controller</code>하나의 레이아웃으로<strong>놀다</strong>단추. 클릭하면 두 가지 옵션이 있는 대화 상자가 열립니다.</p>

<ul>
	<li><strong>지금 플레이</strong> - 선택 시, <code translate="No">loadMediaInfo()</code>메서드가 호출되고 동영상이 Chromecast에서 로드되고 재생됩니다.</li>
	<li><strong>목록에 추가해</strong> - 선택 시, <code translate="No">addMediaInfo()</code>메서드가 호출되고 비디오가 대기열 끝에 추가됩니다.</li>
</ul>

<aside class="bcls-aside bcls-aside--information">동일한 UI를 유지하지만 전송 중인 비디오에 추가 정보를 로드하려는 경우 덮어쓸 수 있습니다. <code translate="No">loadMediaInfo()</code>그리고<code translate="No">addMediaInfo()</code>방법 및 사용자 정의에 추가하는 정보<code translate="No">MediaInfo</code>물체.</aside>

<h4 id="Overwrite_the_control_bar_setup">컨트롤 바 설정 덮어쓰기</h4>

<p>미디어 컨트롤러 레이아웃이<code translate="No">MediaControllerConfig</code> , NS <code translate="No">BrightcoveControlBar</code>보기가 생성되고<code translate="No">BrightcoveCastMediaManager.setupBrightcoveControlBar()</code>메소드가 호출됩니다. 여기에서 Id로 UI 구성 요소를 가져오고 적절한 수신기를 추가할 수 있습니다.</p>

<pre class="line-numbers">
<code class="language-java" translate="No">@Override
protected void setupBrightcoveControlBar(BrightcoveControlBar controlBar) {
   Button playButton = controlBar.findViewById(R.id.cast_play);
   if (playButton != null) {
       playButton.setOnClickListener(new View.OnClickListener() {...});
   }
}</code></pre>

</section>

<!-- <section class="bcls-section">
<h2 id="Cast_plugin_dependencies">Cast plugin dependencies</h2>

<p>The Cast plugin depends on the ExoPlayer Cast Extension:</p>

<pre>
<code class="language-java" translate="No">compile 'com.google.android.exoplayer:extension-cast:2.7.0'</code></pre>

<p>The extension have several dependencies which are listed in the table below:</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Name</th>
			<th>Full notation and current version</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><a href="https://developer.android.com/reference/android/support/v7/media/MediaRouter">Mediarouter v7</a></td>
			<td><code translate="No">com.android.support:mediarouter-v7:27.0.0</code></td>
		</tr>
		<tr>
			<td><a href="https://developer.android.com/topic/libraries/support-library/packages#v7">Appcompat v7</a></td>
			<td><code translate="No">com.android.support:appcompat-v7:27.0.0</code></td>
		</tr>
		<tr>
			<td><a href="https://developer.android.com/topic/libraries/support-library/packages#v4">Support v4</a></td>
			<td><code translate="No">com.android.support:support-v4:27.0.0</code></td>
		</tr>
		<tr>
			<td><a href="https://developers.google.com/android/reference/com/google/android/gms/cast/package-summary">Cast Framework</a></td>
			<td><code translate="No">com.google.android.gms:play-services-cast-framework:11.4.2</code></td>
		</tr>
		<tr>
			<td><a href="https://github.com/google/ExoPlayer/tree/release-v2/library/core">ExoPlayer Core</a></td>
			<td><code translate="No">com.google.android.exoplayer:exoplayer-core:2.7.0</code></td>
		</tr>
		<tr>
			<td><a href="https://github.com/google/ExoPlayer/tree/release-v2/library/ui">ExoPlayer UI</a></td>
			<td><code translate="No">com.google.android.exoplayer:exoplayer-ui:2.7.0</code></td>
		</tr>
	</tbody>
</table>
</section> -->

<!-- <section class="bcls-section">
<h2 id="Limitations">Limitations</h2>

<p>With the current Brightcove Native SDK for Android release, certain Video Cloud features have limited support, or are not supported when using the Cast plugin with the Google sample receiver app:</p>

<ul>
	<li>Captions
	<ul>
		<li>Only in-manifest captions with Dynamic Delivery DASH display as expected when using the Cast plugin with the Google sample receiver app.</li>
		<li>In-manifest captions with HLS and Sidecar captions in any video configuration are not currently supported when using the Cast plugin with the Google sample receiver app.</li>
	</ul>
	</li>
	<li>Widevine Modular DRM is not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Multiple Audio Tracks are not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Client-side and Server-side Advertising is not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Live and Live DVR streams are not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Casting Offline Videos is not currently supported. When you download a video, the Source url is changed to point to a local file. If you then try casting that Video, the plugin will pick the local source but the Chromecast device will not be able to request the video.</li>
</ul>

<h3 id="Handling_currently_unsupported_features">Handling currently unsupported features</h3>

<p>The Cast plugin is responsible for gathering MediaInfo data, such as video url, title, description, and poster image, and casting it to your connected Chromecast device. Note that successful playback of the Video and display of the metadata ultimately depends on the Application Receiver.</p>

<p>It is the developer's responsibility to evaluate the Application Receiver for what it supports, and its limitations. Therefore, the developer should implement UI elements that inform the user what can or can’t be cast. For example, if the Application Receiver does not support Videos with DRM or Ads, your Android app must handle these scenarios.</p>
</section> -->

<section class="bcls-section">
<h2 id="Known_Issues">알려진 문제</h2>

<h3>안드로이드 9</h3>

<p>Android 9 이상에서 Chromecast를 사용하는 경우 다음을 포함해야 합니다. <code translate="No">FOREGROUND_SERVICE</code>허가. 이렇게 하면 앱이 백그라운드로 설정되고 포그라운드로 다시 돌아올 때 앱이 알림을 사용하여 캐스팅 세션을 제어할 수 있습니다.</p>

<p>NS <code translate="No">uses-permission</code>앱에 태그를 추가해야 합니다. <strong> AndroidManifest.xml</strong>파일을 다음과 같이</p>

<pre>
<code class="language-java" translate="No">&lt;uses-permission android:name="android.permission.FOREGROUND_SERVICE"/&gt;</code></pre>

<!-- <h3>Volume control</h3>

<p>The volume control in the Cast dialog may not decrease all the way to zero on the sending device. When using the volume control in the Cast dialog, or the volume buttons on the sending device, the displayed volume level may jump back up slightly to show a non-zero value on the sender. However, the receiver will display a non-zero value. This is a behavior with the Google Cast dialog, and not within the Brightcove Android SDK.</p> -->

<h4>구글 플레이 서비스</h4>

<p>발신자의 Google Play 서비스 버전이 최신 버전이 아닌 경우 전송 연결이 생성되지 않을 수 있습니다. 발신자의 Google Play 서비스, 특히 Cast Services 프레임워크가 오래된 경우 Cast 연결을 생성하지 못할 수 있습니다. 이 문제는 Google Play 스토어를 통해 발신자의 Google Play 서비스를 업데이트하여 해결됩니다.</p>
</section>
</article>