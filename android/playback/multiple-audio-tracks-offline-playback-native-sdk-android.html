
---
title: 'Android용 기본 SDK로 오프라인 재생을 위한 다중 오디오 트랙'
description: 이 주제에서는 Android용 Brightcove Native Player SDK를 사용하여 오프라인 재생으로 작업할 때 여러 오디오 및 텍스트 트랙을 반환하는 방법을 배웁니다.
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Manage_multiple_tracks">여러 트랙 관리</h2>

<p>기본적으로 캡션 파일은 없고 하나의 오디오 트랙만 다운로드됩니다. 비디오와 관련된 추가 자산을 다운로드하려면 다음 단계를 따르세요.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Video Cloud에 대한 참조 가져오기<a href="/android/reference/javadoc/com/brightcove/player/edge/OfflineCatalog.html">오프라인 카탈로그</a>고객.</p>

	<pre>
<code class="language-java" translate="No">private OfflineCatalog catalog;
...
catalog = new OfflineCatalog(this, eventEmitter, ACCOUNT_ID, POLICY_KEY);
...</code></pre>
	</li>
	<li>
	<p>를 불러<a href="/android/reference/javadoc/com/brightcove/player/edge/AbstractOfflineCatalog.html#getMediaFormatTracksAvailable-com.brightcove.player.model.Video-com.brightcove.player.offline.MediaDownloadable.MediaFormatListener-"> getMediaFormatTracksAvailable</a>메서드, 전달<a href="/android/reference/javadoc/com/brightcove/player/model/Video.html">동영상</a>정보를 얻고자 하는 객체 및<a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.MediaFormatListener.html">미디어 형식 리스너</a>반환된 데이터를 수신합니다.</p>

	<pre>
<code class="language-java" translate="No">OfflineCatalog.getMediaFormatTracksAvailable(
  @NonNull final Video video,
  @NonNull final MediaDownloadable.MediaFormatListener mediaFormatListener)</code></pre>
	</li>
	<li>
	<p>NS <code translate="No">MediaFormatListener</code>다음 메서드를 호출합니다.</p>

	<pre>
<code class="language-java" translate="No">void onResult(MediaDownloadable mediaDownloadable, Bundle mediaFormatBundle);</code></pre>

	<p>NS <a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html">미디어다운로드 가능</a>개체에는 비디오 변환, 오디오 언어 및 캡션을 포함한 정보가 포함됩니다. NS <code translate="No">mediaDownloadable</code>객체는 캐시되어 호출할 때 사용됩니다. <a href="/android/reference/javadoc/com/brightcove/player/edge/AbstractOfflineCatalog.html#downloadVideo-com.brightcove.player.model.Video-"> OfflineCatalog.download동영상(동영상)</a> .</p>

	<p>NS <a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.MediaFormatListener.html">묶음</a>개체는 사용 가능한 미디어 형식 트랙에 대한 정보를 포함하며 다음 속성을 가집니다.</p>

	<ul>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#VIDEO_RENDITIONS">MediaDownloadable.VIDEO_RENDITIONS</a> - 배열 목록을 포함합니다. <code translate="No">MediaFormat</code>사물</li>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#AUDIO_LANGUAGES">MediaDownloadable.AUDIO_LANGUAGES</a> - 배열 목록을 포함합니다. <code translate="No">MediaFormat</code>사물.</li>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#AUDIO_LANGUAGE_ROLES">MediaDownloadable.AUDIO_LANGUAGE_ROLES</a> - 문자열의 배열 목록을 포함합니다. 이 목록은 다음과 관련된 추가 정보를 제공합니다. <code translate="No">MediaDownloadable.AUDIO_LANGUAGES</code> . 색인은 오디오 언어 목록과 일치합니다. 오디오 역할의 예는 기본 및 대안이 될 수 있습니다.</li>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#CAPTIONS">MediaDownloadable.CAPTIONS</a> - 배열 목록을 포함합니다. <code translate="No">MediaFormat</code>사물</li>
	</ul>
	</li>
	<li>
	<p>번들에서 데이터 목록을 검색합니다. 다음은 다양한 목록을 검색하는 예입니다.</p>

	<pre>
<code class="language-java" translate="No">ArrayList&lt;MediaFormat&gt; video = bundle.getParcelableArrayList(MediaDownloadable.VIDEO_RENDITIONS);

ArrayList&lt;MediaFormat&gt; audio = bundle.getParcelableArrayList(MediaDownloadable.AUDIO_LANGUAGES);

ArrayList&lt;String&gt; roles = bundle.getStringArrayList(MediaDownloadable.AUDIO_LANGUAGE_ROLES);

ArrayList&lt;MediaFormat&gt; captions = bundle.getParcelableArrayList(MediaDownloadable.CAPTIONS);</code></pre>
	</li>
	<li>
	<p>새로 만들기<code translate="No">Bundle</code> ( <code translate="No">filteredBundle</code> ) 다운로드에 포함할 오디오 트랙과 자막을 선택합니다.</p>

	<pre>
<code class="language-java" translate="No">Bundle filteredBundle = new Bundle();</code></pre>

	<aside class="bcls-aside bcls-aside--information">이전에 생성한 번들을 재사용하면 모든 오디오 트랙과 자막을 다운로드할 수 있습니다.</aside>
	</li>
	<li>
	<p>이전에 생성한 목록에서 원하는 트랙을 필터링하고 새 목록에 추가합니다. <code translate="No">filteredBundle</code> .</p>

	<pre>
<code class="language-java" translate="No">ArrayList&lt;MediaFormat&gt; captions = bundle.getParcelableArrayList(MediaDownloadable.CAPTIONS);
if (captions != null &amp;&amp; captions.size() &gt; 0) {
   ArrayList&lt;MediaFormat&gt; newCaptions = new ArrayList&lt;&gt;();
   newCaptions.add(captions.get(0));

filteredBundle.putParcelableArrayList(MediaDownloadable.CAPTIONS, newCaptions);
}</code></pre>
	</li>
	<li>
	<p>설정<code translate="No">filteredBundle</code> ~로<code translate="No">MediaDownloadable</code>물체.</p>

	<pre>
<code class="language-java" translate="No">mediaDownloadable.setConfigurationBundle(filteredBundle);</code></pre>
	</li>
	<li>
	<p>비디오를 다운로드합니다.</p>

	<pre>
<code class="language-java" translate="No">offlineCatalog.downloadVideo(video);</code></pre>

	<p>내부적으로는<code translate="No">OfflineCatalog</code>캐시 된 것을 사용합니다<code translate="No">MediaDownloadable</code>제공<code translate="No">MediaDownloadable.MediaFormatListener</code>콜백.</p>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Code_sample">코드 샘플</h2>

<p>추가 오디오 트랙 및 캡션 파일을 다운로드하는 전체 예는 다음을 참조하십시오. <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/OfflinePlaybackSampleApp/src/main/java/com/brightcove/player/samples/offlineplayback">오프라인 재생 샘플 앱</a> .</p>
</section>
</article>