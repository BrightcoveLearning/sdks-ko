
---
title: "네이티브 SDK를 사용한 포렌식 워터마킹"
description: "이 주제에서는 Brightcove 네이티브 SDK를 사용하여 포렌식 워터마킹으로 보호된 비디오를 제공하는 방법을 배웁니다."
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Introduction">소개</h2>
    <p>
      포렌식 워터마킹을 사용하면 불법 복제 및 무단 콘텐츠 공유로부터 프리미엄 콘텐츠를 보호할 수 있습니다. 이 기능은 비디오에 보이지 않는 워터마크를 추가하여 콘텐츠 유출을 추적할 수 있습니다.
    </p>
    <p>자세한 내용은<a href="https://apis.support.brightcove.com/general/overview-forensic-watermarking.html">개요: 포렌식 워터마킹</a>문서.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Requirements">요구 사항</h2>
    <p>이 기능을 지원하려면 다음 요구 사항이 필요합니다.</p>
    <h3>설정</h3>
    <p>플레이어 구성 외에도 설정 요구 사항이 있습니다. 자세한 내용은<a href="https://apis.support.brightcove.com/general/overview-forensic-watermarking.html">개요: 포렌식 워터마킹</a>문서.</p>

    <h3>기기 OS 버전</h3>
    <ul>
      <li>안드로이드 6.0 이상</li>
      <li>iOS 11.0 이상</li>
    </ul>

    <h3>브라이트코브 SDK 버전</h3>
    <ul>
      <li>Android 6.16.3 이상용 네이티브 SDK</li>
      <li>iOS 6.9.0 이상용 기본 SDK</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Using_Playback_Rights_Android">안드로이드 구현</h2>
    <p>포렌식 워터마킹에 대한 구성은 비디오 수준에서 수행됩니다.</p>
    
    <ol class="bcls-tasklist-restart">
      <li>
        <p>분석 웹 비콘에 뷰어 ID가 전달되도록 플레이어는 등록 시스템과 통합되어야 합니다. <code translate="No">user</code>들).</p>
        <p>예를 들면 다음과 같습니다.</p>
  <pre class="line-numbers"><code class="language-java" translate="No">HashMap&lt;String, String&gt; baseParams = new HashMap&lt;&gt;();
  baseParams.put(Analytics.Fields.USER, &quot;viewer id&quot;);
  baseParams.put(Analytics.Fields.APPLICATION_ID, &quot;application id&quot;);
  
  HashMap&lt;String, Object&gt; eventParams = new HashMap&lt;&gt;();
  eventParams.put(Analytics.Fields.BASE_PARAMS, baseParams);
  eventEmitter.emit(EventType.ADD_ANALYTICS_BASE_PARAMS, eventParams);          
</code></pre>
      </li>
      <li>
        <p>에서<code translate="No">Catalog.findVideo</code>또는<code translate="No">Catalog.findPlaylist</code>메서드 호출, 추가<code translate="No">VideoUtil</code>워터마킹 토큰을 추가하는 방법입니다.</p>

        <p><strong>onVideo 콜백에서</strong></p>
        <pre><code class="language-java" translate="No">public void onVideo(Video video) {
    VideoUtil.addWatermarkingToken(video, yourWatermarkingToken);
    brightcoveVideoView.add(video);
} 
</code></pre>
        <p><strong>onPlaylist 콜백에서</strong></p>
        <pre><code class="language-java" translate="No">public void onPlaylist(Playlist playlist) {
  for (Video video : testPlaylist.getVideos()) {
      VideoUtil.addWatermarkingToken(video, yourWatermarkingToken);
  }
  brightcoveVideoView.addAll(testPlaylist.getVideos());
}
</code></pre>
      </li>
      <!-- <li>
        <p>
          <p>In the player Activity’s <code translate="No">onCreate</code> method, add this call, before any Catalog calls to retrieve your video or playlist:</p>
          <pre><code class="language-java" translate="No">VideoUtil.setWatermarkingToken(yourWatermarkingToken);
</code></pre>
        </p>
      </li> -->
      <li>
        <p>이 호출을 사용하면 카탈로그가 Playback API에서 비디오 또는 재생 목록 메타데이터를 검색할 때<code translate="No">VideoUtil</code>클래스가 워터마킹 토큰 자리 표시자를 대체합니다. <code translate="No">{WMT}</code>비디오의 소스 URL에서 발생할 수 있는 모든 위치에 토큰 값을 사용합니다. 이 토큰은 워터마크가 표시될 수 있는 재생 목록의 각 비디오에 대해 교체할 수 있습니다.</p>
      </li>
    </ol>

    <h3>크롬캐스트</h3>
    <p>워터마킹된 비디오를 전송하려면 애플리케이션 ID, 워터마킹 토큰 및 사용자 ID를 빌드할 때 제공해야 합니다. <code translate="No">BrightcoveCastCustomData</code> Cast 플러그인으로 개체를 만듭니다.</p>
      <p>코드에서 설정하려면<code translate="No">BrightcoveCastCustomData</code>개체에 다음 줄을 추가합니다.</p>
      <pre><code class="language-java" translate="No">public static void setupGoogleCast() {
GoogleCastComponent.Builder castPluginBuilder = new GoogleCastComponent.Builder(eventEmitter, context)
        .setAutoPlay(isAutoPlayEnabled)
        .setQueuingSupported(isQueuingSupported);

    BrightcoveCastCustomData.Builder customDataBuilder = new BrightcoveCastCustomData.Builder(context)
        .setApplicationId(yourApplicationId)
        .setWatermarkingToken(yourWatermarkingToken);
        .setUserId(yourUserId);
        // Add the custom data elements to the castPluginBuilder
        
    castPluginBuilder
        .setEnableCustomData(true)
        .setCustomData(customDataBuilder.build());
}            
</code></pre>

    <p>워터마크가 있는 비디오로 캐스트 연결을 열면 다음과 같이 표시되어야 합니다. <code translate="No">customData</code>다음과 같은 형식의 객체:</p>
    <pre><code class="language-json" translate="No">{
      &quot;accountId&quot;: &quot;yourAccountId&quot;,
      &quot;analyticsParams&quot;: {
          &quot;application&quot;: &quot;yourApplicationId&quot;,
          &quot;user&quot;: &quot;yourUserId&quot;
      },
      &quot;catalogParams&quot;: {
          &quot;type&quot;: &quot;video&quot;,
          &quot;id&quot;: &quot;videoId&quot;,
          &quot;policyKey&quot;: &quot;yourPolicyKey&quot;,
          &quot;watermarkingToken&quot;: &quot;yourWatermarkingToken&quot;
      }
  }  
</code></pre>

    <h3>오프라인 재생</h3>
    <p>비디오 다운로드 프로세스에는 현재 비디오 메타데이터를 검색하기 위해 둘 이상의 카탈로그 호출이 포함될 수 있습니다. Brightcove는 다음을 추가할 것을 권장합니다. <code translate="No">onVideo</code>위의 콜백 코드를 구매 또는 대여 라이센스를 취득할 때와 비디오를 다운로드할 때 나타날 수 있는 콜백에 추가하십시오.
    </p>
    <p>비디오가 다운로드되면 오프라인 재생이 평소와 같이 작동해야 합니다.</p>
    <p>
      자세한 내용은<a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-exoplayer/OfflinePlaybackSampleApp/src/main/java/com/brightcove/player/samples/offlineplayback/MainActivity.java">오프라인 재생 샘플 앱</a> .
    </p>

  </section>

  <section class="bcls-section">
    <h2 id="iOS_Implementation">iOS 구현</h2>
    <p>
      포렌식 워터마킹을 사용하도록 플레이어를 구성하려면 다음 단계를 따르세요.
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>분석 웹 비콘에 뷰어 ID가 전달되도록 플레이어는 등록 시스템과 통합되어야 합니다. <code translate="No">user</code>들).</p>
        <p>여기에서 사용자 ID 및 애플리케이션 ID에 대한 값을 제공합니다.</p>
        <pre class="line-numbers"><code class="language-objectivec" translate="No">@try
  {
    [BCOVGlobalConfiguration.sharedConfig setValue:@{
      @&quot;privateUser&quot;: @&quot;your user id&quot;,
      @&quot;privateApplication&quot;: @&quot;your application id&quot;
    }
    forKey:@&quot;privateSessionAnalytics&quot;];
  }
  @catch (NSException *e)
  {
    NSLog(@&quot;%@&quot;, e.description);
  }       
</code></pre>
      </li>
      <li>
        <p>단일 비디오 또는 재생 목록에 대한 Brightcove 카탈로그 요청의 일부로 NAGRA 워터마크 토큰을 제공합니다. 이것은 다음을 사용하여 수행됩니다. <code translate="No">watermarkingToken</code>재산.</p>
        <p>재생 서비스에 워터마킹 토큰을 추가합니다.</p>
        <pre class="line-numbers"><code class="language-objectivec" translate="No">/**
* The watermarking token for use with Forensic Watermarking
*/
@property (nonatomic, copy) NSString *watermarkingToken;
...
playbackService.watermarkingToken = self.watermarkingToken;     
</code></pre>
      </li>
      <li>
        <p>단일 비디오 또는 재생 목록에 대해 Brightcove 카탈로그에 요청하십시오.</p>
        <p>비디오 요청:</p>
<pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findVideoWithVideoID:(NSString *)videoID parameters:
  (NSDictionary *)parameters completion:(void (^)
  (BCOVVideo *video, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>
        <p>재생 목록 요청:</p>
<pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findPlaylistWithPlaylistID:(NSString *)playlistID parameters:
  (NSDictionary *)parameters completion:(void (^)
  (BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>   
      </li>
    </ol>
    <p>자세한 내용은 iOS용 네이티브 SDK 참조의 포렌식 워터마킹 섹션을 참조하세요.</p>

    <h3>크롬캐스트</h3>
    <p>캐스팅을 위해 워터마킹 토큰과 userId 필드를 제공해야 합니다.</p>
      <p>코드에서 설정하려면<code translate="No">BrightcoveCastCustomData</code>개체에 다음 줄을 추가합니다.</p>
      <pre><code class="language-objectivec" translate="No">BCOVReceiverAppConfig *appConfig = [BCOVReceiverAppConfig new];
...
appConfig.userId = @&quot;ios-client@brightcove.com&quot;;
appConfig.watermarkingToken = watermarkingToken;
...                 
</code></pre>

    <p>디버깅 콘솔에서 Chromecast 세션에 사용될 구성 값을 볼 수 있습니다.</p>
    <pre><code class="language-json" translate="No">Google Cast Custom Data: {
  accountId = &lt;your_account_id&gt;;
  analyticsParams =     {
      application = &quot;&quot;;
      user = &quot;ios-client@brightcove.com&quot;;
  };
  catalogParams =     {
      adConfigId = &quot;&quot;;
      bcovAuthToken = &quot;&quot;;
      id = &lt;your_video_id&gt;;
      policyKey = &quot;&lt;your_policy_key&quot;;
      type = video;
      watermarkingToken = &quot;&lt;your_watermark_token&quot;;
  };    
</code></pre>

    <h3>오프라인 재생</h3>
    <p>비디오가 다운로드되면 오프라인 재생이 평소와 같이 작동해야 합니다.</p>

    <p>
      이 기능을 시작하려면<a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md">오프라인 재생을 위한 iOS 앱 개발자 가이드</a>참조.
    </p>
  </section> 

  <section class="bcls-section">
    <h2 id="Limitations">제한 사항</h2>
    <p>이 기능의 제한 사항에 대한 자세한 내용은<a href="https://apis.support.brightcove.com/general/overview-forensic-watermarking.html#Limitations">개요: 포렌식 워터마킹</a>문서.</p>
  </section>

</article>